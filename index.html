import React, { useState, useEffect } from 'react';
import { BarChart3, Code, Database, Brain, TrendingUp, Mail, Github, Linkedin, Phone, ChevronDown, ExternalLink } from 'lucide-react';

export default function Portfolio() {
  const [activeSection, setActiveSection] = useState('home');
  const [scrollY, setScrollY] = useState(0);

  useEffect(() => {
    const handleScroll = () => setScrollY(window.scrollY);
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const scrollToSection = (id) => {
    document.getElementById(id)?.scrollIntoView({ behavior: 'smooth' });
    setActiveSection(id);
  };

  const skills = [
    { name: 'Python', level: 85, icon: <Code className="w-5 h-5" /> },
    { name: 'SQL', level: 80, icon: <Database className="w-5 h-5" /> },
    { name: 'Machine Learning', level: 75, icon: <Brain className="w-5 h-5" /> },
    { name: 'Deep Learning', level: 70, icon: <Brain className="w-5 h-5" /> },
    { name: 'Power BI', level: 85, icon: <BarChart3 className="w-5 h-5" /> },
    { name: 'Excel', level: 90, icon: <TrendingUp className="w-5 h-5" /> },
    { name: 'Statistiques', level: 80, icon: <TrendingUp className="w-5 h-5" /> },
    { name: 'Data Visualization', level: 85, icon: <BarChart3 className="w-5 h-5" /> }
  ];

  const projects = [
    {
      title: "Analyse du Taux de Chômage au Maroc",
      period: "2006-2025",
      description: "Analyse approfondie de l'évolution du taux de chômage au Maroc sur près de deux décennies. Ce projet explore les tendances macroéconomiques, identifie les périodes critiques et examine les corrélations avec les événements socio-économiques majeurs. Utilisation de techniques de visualisation avancées et de modèles prédictifs pour anticiper les futures tendances du marché du travail marocain.",
      tags: ["Python", "Pandas", "Matplotlib", "Statistiques", "Time Series"],
      gradient: "from-blue-500 to-cyan-500"
    },
    {
      title: "Analyse Botola Pro Inwi",
      period: "Saison Précédente",
      description: "Analyse descriptive et exploratoire des données de 30 matchs de la Botola Pro Inwi. Cette étude examine le niveau offensif et défensif du championnat, analyse les résultats (victoires, nuls, défaites), étudie la performance des équipes, et évalue l'impact de la possession, des tirs et de la discipline. Extraction d'insights stratégiques pour comprendre les dynamiques compétitives du football marocain.",
      tags: ["Python", "Data Analysis", "Power BI", "Sports Analytics", "Visualization"],
      gradient: "from-purple-500 to-pink-500"
    }
  ];

  return (
    <div className="bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 text-white min-h-screen">
      {/* Navigation */}
      <nav className={`fixed w-full z-50 transition-all duration-300 ${scrollY > 50 ? 'bg-slate-900/95 backdrop-blur-lg shadow-lg' : 'bg-transparent'}`}>
        <div className="max-w-6xl mx-auto px-6 py-4">
          <div className="flex justify-between items-center">
            <div className="text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent">
              FO
            </div>
            <div className="flex gap-8">
              {['home', 'about', 'skills', 'projects', 'contact'].map((section) => (
                <button
                  key={section}
                  onClick={() => scrollToSection(section)}
                  className="capitalize hover:text-cyan-400 transition-colors duration-300"
                >
                  {section === 'home' ? 'Accueil' : section === 'about' ? 'À Propos' : section === 'skills' ? 'Compétences' : section === 'projects' ? 'Projets' : 'Contact'}
                </button>
              ))}
            </div>
          </div>
        </div>
      </nav>

      {/* Hero Section */}
      <section id="home" className="min-h-screen flex items-center justify-center relative overflow-hidden">
        <div className="absolute inset-0 opacity-20">
          <div className="absolute top-1/4 left-1/4 w-96 h-96 bg-cyan-500 rounded-full filter blur-3xl animate-pulse"></div>
          <div className="absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-500 rounded-full filter blur-3xl animate-pulse delay-1000"></div>
        </div>
        
        <div className="text-center z-10 px-6" style={{ transform: `translateY(${scrollY * 0.5}px)` }}>
          <div className="mb-6">
            <div className="w-32 h-32 mx-auto rounded-full bg-gradient-to-r from-cyan-400 to-blue-500 flex items-center justify-center text-5xl font-bold mb-4 shadow-2xl shadow-cyan-500/50">
              FO
            </div>
          </div>
          <h1 className="text-6xl md:text-7xl font-bold mb-4 bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 bg-clip-text text-transparent animate-pulse">
            Farid Oumnay
          </h1>
          <p className="text-2xl md:text-3xl text-cyan-400 mb-8 font-light">Junior Data Analyst</p>
          <p className="text-lg text-slate-300 max-w-2xl mx-auto mb-12">
            Transformez vos données en décisions stratégiques grâce à l'analyse avancée et la visualisation percutante
          </p>
          <button 
            onClick={() => scrollToSection('projects')}
            className="bg-gradient-to-r from-cyan-500 to-blue-600 px-8 py-4 rounded-full font-semibold hover:shadow-2xl hover:shadow-cyan-500/50 transition-all duration-300 transform hover:scale-105"
          >
            Découvrir mes projets
          </button>
        </div>

        <div className="absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce">
          <ChevronDown className="w-8 h-8 text-cyan-400" />
        </div>
      </section>

      {/* About Section */}
      <section id="about" className="py-20 px-6">
        <div className="max-w-4xl mx-auto">
          <h2 className="text-5xl font-bold mb-12 text-center bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent">
            À Propos
          </h2>
          <div className="bg-slate-800/50 backdrop-blur-lg rounded-3xl p-8 shadow-2xl border border-slate-700/50 hover:border-cyan-500/50 transition-all duration-300">
            <p className="text-lg text-slate-300 leading-relaxed mb-6">
              Passionné par l'analyse de données et la science des données, je transforme des données brutes en insights exploitables. Mon expertise couvre l'ensemble du pipeline d'analyse : de la collecte et nettoyage des données jusqu'à la modélisation prédictive et la visualisation interactive.
            </p>
            <p className="text-lg text-slate-300 leading-relaxed">
              Avec une solide maîtrise de Python, SQL et des outils de Business Intelligence comme Power BI, je m'attache à créer des solutions data-driven qui apportent une réelle valeur ajoutée aux organisations. Mon approche allie rigueur statistique et créativité dans la présentation des résultats.
            </p>
          </div>
        </div>
      </section>

      {/* Skills Section */}
      <section id="skills" className="py-20 px-6 bg-slate-900/50">
        <div className="max-w-6xl mx-auto">
          <h2 className="text-5xl font-bold mb-12 text-center bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent">
            Compétences
          </h2>
          <div className="grid md:grid-cols-2 gap-6">
            {skills.map((skill, index) => (
              <div key={index} className="bg-slate-800/50 backdrop-blur-lg rounded-2xl p-6 hover:bg-slate-800/80 transition-all duration-300 border border-slate-700/50 hover:border-cyan-500/50 group">
                <div className="flex items-center gap-3 mb-4">
                  <div className="text-cyan-400 group-hover:scale-110 transition-transform duration-300">
                    {skill.icon}
                  </div>
                  <h3 className="text-xl font-semibold">{skill.name}</h3>
                </div>
                <div className="w-full bg-slate-700 rounded-full h-3 overflow-hidden">
                  <div 
                    className="bg-gradient-to-r from-cyan-500 to-blue-600 h-full rounded-full transition-all duration-1000 ease-out"
                    style={{ width: `${skill.level}%` }}
                  ></div>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Projects Section */}
      <section id="projects" className="py-20 px-6">
        <div className="max-w-6xl mx-auto">
          <h2 className="text-5xl font-bold mb-12 text-center bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent">
            Projets
          </h2>
          <div className="grid md:grid-cols-2 gap-8">
            {projects.map((project, index) => (
              <div key={index} className="group relative bg-slate-800/50 backdrop-blur-lg rounded-3xl p-8 hover:bg-slate-800/80 transition-all duration-500 border border-slate-700/50 hover:border-cyan-500/50 overflow-hidden">
                <div className={`absolute inset-0 bg-gradient-to-br ${project.gradient} opacity-0 group-hover:opacity-10 transition-opacity duration-500`}></div>
                
                <div className="relative z-10">
                  <div className="flex justify-between items-start mb-4">
                    <h3 className="text-2xl font-bold text-cyan-400 group-hover:text-cyan-300 transition-colors">
                      {project.title}
                    </h3>
                    <ExternalLink className="w-5 h-5 text-slate-400 group-hover:text-cyan-400 transition-colors" />
                  </div>
                  
                  <p className="text-sm text-slate-400 mb-4">{project.period}</p>
                  
                  <p className="text-slate-300 leading-relaxed mb-6">
                    {project.description}
                  </p>
                  
                  <div className="flex flex-wrap gap-2">
                    {project.tags.map((tag, i) => (
                      <span key={i} className="px-3 py-1 bg-slate-700/50 rounded-full text-sm text-cyan-400 border border-slate-600/50">
                        {tag}
                      </span>
                    ))}
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Contact Section */}
      <section id="contact" className="py-20 px-6 bg-slate-900/50">
        <div className="max-w-4xl mx-auto text-center">
          <h2 className="text-5xl font-bold mb-12 bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent">
            Contact
          </h2>
          <p className="text-xl text-slate-300 mb-12">
            Intéressé par une collaboration ? N'hésitez pas à me contacter !
          </p>
          
          <div className="grid md:grid-cols-3 gap-6">
            <a href="tel:0674827739" className="bg-slate-800/50 backdrop-blur-lg rounded-2xl p-6 hover:bg-slate-800/80 transition-all duration-300 border border-slate-700/50 hover:border-cyan-500/50 group">
              <Phone className="w-8 h-8 mx-auto mb-3 text-cyan-400 group-hover:scale-110 transition-transform" />
              <h3 className="font-semibold mb-2">Téléphone</h3>
              <p className="text-slate-400">0674827739</p>
            </a>
            
            <a href="https://github.com/Faridoumnay" target="_blank" rel="noopener noreferrer" className="bg-slate-800/50 backdrop-blur-lg rounded-2xl p-6 hover:bg-slate-800/80 transition-all duration-300 border border-slate-700/50 hover:border-cyan-500/50 group">
              <Github className="w-8 h-8 mx-auto mb-3 text-cyan-400 group-hover:scale-110 transition-transform" />
              <h3 className="font-semibold mb-2">GitHub</h3>
              <p className="text-slate-400">Faridoumnay</p>
            </a>
            
            <a href="https://www.linkedin.com/in/farid-oumnay-444801337" target="_blank" rel="noopener noreferrer" className="bg-slate-800/50 backdrop-blur-lg rounded-2xl p-6 hover:bg-slate-800/80 transition-all duration-300 border border-slate-700/50 hover:border-cyan-500/50 group">
              <Linkedin className="w-8 h-8 mx-auto mb-3 text-cyan-400 group-hover:scale-110 transition-transform" />
              <h3 className="font-semibold mb-2">LinkedIn</h3>
              <p className="text-slate-400">Farid Oumnay</p>
            </a>
          </div>
        </div>
      </section>

      {/* Footer */}
      <footer className="py-8 px-6 border-t border-slate-800">
        <div className="max-w-6xl mx-auto text-center text-slate-400">
          <p>© 2025 Farid Oumnay. Tous droits réservés.</p>
        </div>
      </footer>
    </div>
  );
}
